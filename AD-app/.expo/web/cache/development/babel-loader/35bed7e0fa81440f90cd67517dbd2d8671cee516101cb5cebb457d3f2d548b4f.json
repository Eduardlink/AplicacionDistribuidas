{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport React, { useState, useEffect } from 'react';\nimport { useIsFocused } from '@react-navigation/native';\nimport DevolucionesItem from \"./DevolucionesItem\";\nimport { getDevolucionesAll, getDevolucionesSi, deleteDevoluciones, activateDevoluciones } from \"../api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar DevolucionesList = function DevolucionesList() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    devoluciones = _useState2[0],\n    setDevoluciones = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refresing = _useState4[0],\n    setRefresing = _useState4[1];\n  var isFocused = useIsFocused();\n  var loadDevoluciones = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var data = yield getDevolucionesAll();\n      setDevoluciones(data);\n    });\n    return function loadDevoluciones() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    loadDevoluciones();\n  }, [isFocused]);\n  var handleDeleteDevoluciones = function () {\n    var _ref2 = _asyncToGenerator(function* (id_dev) {\n      yield deleteDevoluciones(id_dev);\n      yield loadDevoluciones();\n    });\n    return function handleDeleteDevoluciones(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleActivateDevoluciones = function () {\n    var _ref3 = _asyncToGenerator(function* (id_dev) {\n      yield activateDevoluciones(id_dev);\n      yield loadDevoluciones();\n    });\n    return function handleActivateDevoluciones(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var renderItem = function renderItem(_ref4) {\n    var item = _ref4.item;\n    return _jsx(DevolucionesItem, {\n      devoluciones: item,\n      handleDeleteDevoluciones: handleDeleteDevoluciones,\n      handleActivateDevoluciones: handleActivateDevoluciones\n    });\n  };\n  var onRefresh = React.useCallback(_asyncToGenerator(function* () {\n    setRefresing(true);\n    yield loadDevoluciones();\n    setRefresing(false);\n  }));\n  return _jsx(FlatList, {\n    style: {\n      width: 380\n    },\n    data: devoluciones,\n    keyExtractor: function keyExtractor(item) {\n      return item.id_dev + '';\n    },\n    renderItem: renderItem,\n    refreshControl: _jsx(RefreshControl, {\n      refreshing: refresing,\n      colors: ['#AF8A46'],\n      onRefresh: onRefresh,\n      progressBackgroundColor: \"#000\"\n    })\n  });\n};\nexport default DevolucionesList;","map":{"version":3,"names":["React","useState","useEffect","useIsFocused","DevolucionesItem","getDevolucionesAll","getDevolucionesSi","deleteDevoluciones","activateDevoluciones","jsx","_jsx","DevolucionesList","_useState","_useState2","_slicedToArray","devoluciones","setDevoluciones","_useState3","_useState4","refresing","setRefresing","isFocused","loadDevoluciones","_ref","_asyncToGenerator","data","apply","arguments","handleDeleteDevoluciones","_ref2","id_dev","_x","handleActivateDevoluciones","_ref3","_x2","renderItem","_ref4","item","onRefresh","useCallback","FlatList","style","width","keyExtractor","refreshControl","RefreshControl","refreshing","colors","progressBackgroundColor"],"sources":["C:/Users/chris/OneDrive/Escritorio/UTA/Aplicaciones Disribuidas/ReactNative/AD-app/componentsWeb/DevolucionesList.js"],"sourcesContent":["import { View, Text, FlatList, RefreshControl } from 'react-native'\r\nimport React, {useState, useEffect}from 'react'\r\nimport { useIsFocused }from '@react-navigation/native'\r\n\r\nimport DevolucionesItem from './DevolucionesItem';\r\nimport { getDevolucionesAll, getDevolucionesSi, deleteDevoluciones, activateDevoluciones } from \"../api\";\r\n\r\nconst DevolucionesList = () => {\r\n\r\n    const [devoluciones, setDevoluciones] = useState([])\r\n    const [refresing, setRefresing] = useState(false);\r\n\r\n    const isFocused = useIsFocused()\r\n\r\n    const loadDevoluciones = async () => {\r\n        const data = await getDevolucionesAll()\r\n        /* console.log(data) */\r\n        setDevoluciones(data)\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadDevoluciones();\r\n    }, [isFocused]);\r\n\r\n    const handleDeleteDevoluciones = async (id_dev) =>{\r\n        await deleteDevoluciones(id_dev)\r\n        await loadDevoluciones()\r\n    }\r\n\r\n    const handleActivateDevoluciones = async (id_dev) =>{\r\n        await activateDevoluciones(id_dev)\r\n        await loadDevoluciones()\r\n    }\r\n\r\n    const renderItem = ({ item }) => {\r\n        return <DevolucionesItem devoluciones={item} handleDeleteDevoluciones={handleDeleteDevoluciones} handleActivateDevoluciones={handleActivateDevoluciones}/>        \r\n    }\r\n\r\n    const onRefresh = React.useCallback(async () =>{\r\n        setRefresing(true);\r\n        await loadDevoluciones();\r\n        setRefresing(false);\r\n    })\r\n\r\n    return (\r\n        <FlatList\r\n        style={{width: 380}}\r\n            data={devoluciones}\r\n            keyExtractor={(item) => item.id_dev + ''}\r\n            renderItem={renderItem}\r\n            refreshControl={\r\n                <RefreshControl\r\n                refreshing={refresing}\r\n                colors={['#AF8A46']}\r\n                onRefresh={onRefresh}\r\n                progressBackgroundColor=\"#000\"\r\n                />\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default DevolucionesList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}